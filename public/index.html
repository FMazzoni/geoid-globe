<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geoid Globe Visualization</title>
    <link rel="stylesheet" href="css/geoid_globe.css">
</head>
<body>
    <div id="container"></div>
    <div id="controls">
        <h3>Controls</h3>
        <label>
            Deformation: <input type="number" id="deformationPercent" min="0" max="50" step="0.5" value="20" style="width: 70px; margin-left: 5px; padding: 2px;">% (0-50)
        </label>
        <label>
            Rotation Speed: <span id="rotationSpeedValue">0.5</span>
            <input type="range" id="rotationSpeed" min="0" max="2" step="0.5" value="0.5">
        </label>
        <label>
            Colormap:
            <select id="colormapSelect">
                <option value="viridis">Viridis (default)</option>
                <option value="plasma">Plasma</option>
                <option value="turbo">Turbo</option>
                <option value="inferno">Inferno</option>
                <option value="magma">Magma</option>
                <option value="cividis">Cividis</option>
                <option value="rdbu">Red-Blue (diverging)</option>
                <option value="coolwarm">Cool-Warm (diverging)</option>
            </select>
        </label>
        <label>
            <input type="checkbox" id="unlitColors" checked> Unlit colors (preserves detail)
        </label>
        <label>
            <input type="checkbox" id="showWireframes"> Show continent wireframes
        </label>
        <hr style="margin: 10px 0; border-color: rgba(255,255,255,0.3);">
        <div style="font-size: 11px; margin-bottom: 5px; font-weight: bold;">Color Scale Range:</div>
        <label style="font-size: 11px;">
            Min: <input type="number" id="colorMin" step="0.1" style="width: 70px; margin-left: 5px; padding: 2px;"> m
        </label>
        <label style="font-size: 11px;">
            Max: <input type="number" id="colorMax" step="0.1" style="width: 70px; margin-left: 5px; padding: 2px;"> m
        </label>
        <button id="resetColorRange" style="margin-top: 5px; font-size: 11px; padding: 3px 8px;">Reset to Full Range</button>
        <button id="resetCamera">Reset Camera</button>
    </div>
    <div id="info">
        <div>Click and drag to rotate | Scroll to zoom</div>
        <div style="margin-top: 5px; font-size: 11px; opacity: 0.8;">
            Tip: Viridis/Turbo are best for detail. Diverging colormaps (Red-Blue, Cool-Warm) highlight deviations from zero.
        </div>
    </div>
    <div id="colorbar">
        <div id="colorbar-label">Height (m)</div>
        <div id="colorbar-max">--</div>
        <canvas id="colorbarCanvas" width="24" height="250"></canvas>
        <div id="colorbar-min">--</div>
    </div>

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
            "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
        }
    }
    </script>

    <script type="module" src="js/geoid_globe.js"></script>
</body>
